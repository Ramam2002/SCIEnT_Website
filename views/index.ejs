<!DOCTYPE html>
<html lang="en">

<head>
    <base href="/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Scient lab</title>

    <!-- Bootstrap Core CSS -->
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link rel="icon" href="images/scient-logo.png">

    <!-- Custom CSS -->
    <link href="/css/ScientLab.css" rel="stylesheet">
    <link href="/css/register.css" rel="stylesheet">
    <link href="/css/tools.css" rel="stylesheet">
    <link href="/css/carousel.css" rel="stylesheet">
    <link href="/css/projects.css" rel="stylesheet">



<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Ubuntu:wght@700&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="/css/templatemo_misc.css">
    <link rel="stylesheet" href="/css/templatemo_style.css">  -->

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Vollkorn" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- script src="/js/angular.min.js"></script>
    <script src="/js/angular-route.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<!-- Latest compiled and minified CSS - Bootstrap -->
	<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> -->
	<!-- Latest compiled and minified JavaScript - Bootstrap -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-route.js"></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <style>
       /* .site-slider
        {
            margin-top:-10%;
        }*/
        #image1
        {
            height:30%;
        }
        #header img{
            margin-left: auto;
            margin-right: auto;
        }
        #header{
            text-align: center;
        }
    </style>


</head>

<body ng-app="ScientLab" ng-controller="ScientLabCtrl" ng-init="fetchResourcesEvents()">
<!-- <div id="loader"></div> -->
<div id="page-contents">
    <!-- Header -->
    <div id="header">
        <div class="row">
            <!-- <div class="col-md-12">
                <a href="#!home"><img class="img-responsive" id="scient-logo" src="images/scient-logo.png" height="130" width="130" /></a>
                <img class="img-responsive" id="nitt-logo" src="images/nitt-logo.png" height="100.5" width="100" />
                <h2 id="nitt-header">National Institute of Technology Tiruchchirapalli</h2>
            </div> -->
            <div class="col-md-2">
                <div style="text-align: center;">
                    <a href="#!home"><img class="img-responsive" id="scient-logo" src="images/scient-logo.png" height="130" width="130" /></a>
                </div>
            </div>
            <div class="col-md-4">
                <div>
                    <h2 id="scient-header">Student Center For Innovation In Engineering And Technology</h2>
                </div>
            </div>
            <div class="col-md-4">
                <div>
                    <h2 id="nitt-header">National Institute of Technology Tiruchirapalli</h2>
                </div>
            </div>
            <div class="col-md-2">
                <div style="text-align: center;">
                    <a href="https://www.nitt.edu/" target="_blank"><img class="img-responsive" id="nitt-logo" src="images/nitt-logo.png" height="100.5" width="100" /></a>
                </div>
            </div>   
        </div>
    </div> 
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-static-top" style="margin-top: 10px;" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <!-- <li class = "menu-item">
                        <a href="#!home">Home</a> -->
                    <li class="menu-item"><a href="#!home" ng-class="getClass('/home')">Home</a><!-- <span class="caret"></span></a>
                            <ul class="menu-item dropdown-menu" style="left:0;">
                                <li></li>
                            </ul> -->
                    </li>

<!-- added members -->
                    <!-- <li class = "menu-item">
                        <a id ="aboutUsLink" ng-class="getClass('/members')" href="#!members">Team</a>
                    </li> -->


                    <li class = "menu-item">
                       <a href="#!ProjectIdeas" ng-class="getClass('/ProjectIdeas')">Members</a>
                    </li>

<!-- end -->

                    <li class = "menu-item">
                        <a href="#!Register" ng-class="getClass('/Register')">Register</a>
                    </li>
                    <li class = "menu-item">
                        <a href="#!AnnualReports" ng-class="getClass('/AnnualReports')">Annual Reports</a>
                    </li>
                    <li class = "menu-item" id="resources-main">
                        <a href="#!Tools" id="resources-tab" ng-class="getClass('/Tools')">Resources</a>
                    </li>
                    <li class = "menu-item" id="resources-main">
                        <a href="#!Gallery" id="resources-tab" ng-class="getClass('/Gallery')">Gallery</a>
                    </li>
                     <li class = "menu-item">
                        <a href="#!Projects" ng-class = "getClass('/Projects')">Projects</a>
                    </li>
                     <li class = "menu-item">
                        <a href="#!Donations" ng-class="getClass('/Donations')">Donation</a>
                    </li>
                    <li class = "menu-item">
                        <a href="#!Testimonials" ng-class="getClass('/Testimonials')">Testimonials</a>
                    </li>
                    <li class = "menu-item">
                        <a href="#!FAQ" ng-class="getClass('/FAQ')">FAQ</a>
                    </li> 
                    <li class = "menu-item">
                        <a href="#!Contacts" ng-class="getClass('/Contacts')">Contact Us</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <div class="contents" ng-view onload="viewLoaded()" style="height:auto;"></div>
    <div class="footer" class="container">
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-3">
                <p id="spider">Made By SCIEnT</p>
                <a target="_blank" href="https://spider.nitt.edu/"><img class="img-responsive spider-logo" src="images/scient-logo.png" height="70" width="70" /></a>
                <p id="footer-text">An alumni initiative of class - 1990</p>
            </div>
            <div class="col-md-3">
                <ul class="list-unstyled list-inline list-social-icons">
                    <li class="contacts-fa  ">
                        <a target="_blank" href="https://www.facebook.com/ScientNITT/"><i class="logo-color fa fa-facebook-square fa-3x"></i></a>
                    </li>
                    <li class="contacts-fa">
                        <a target="_blank" href="https://www.instagram.com/scientlab/"><i class="logo-color fa fa-instagram fa-3x" aria-hidden="true"></i></a>
                    </li>
                    <li class="contacts-fa">
                        <a target="_blank" href="https://www.linkedin.com/company/scientnitt/"><i class="logo-color fa fa-linkedin-square fa-3x"></i></a>
                    </li>
                    <li class="contacts-fa">
                        <a target="_blank" href="https://www.youtube.com/channel/UCFq2IUB2Ws7szSgJQmGRZfg"><i class="logo-color fa fa-youtube-square fa-3x"></i></a>
                    </li>
                </ul>
                <p id="copyright-text">Copyright &copy; ScientLab website 2017</p>
            </div>
            <div class="col-md-2"></div>
            <div class="col-md-3">
                <img class="img-responsive recal_logo_footer" src="images/recal.png" height="180" width="180"/>
                <img class="img-responsive recal_logo_footer" src="images/nitt-logo.png" height="80" width="80"/>
            </div>
        </div>
    </div>
</div>


    <script>
        
        
        var app = angular.module("ScientLab", ["ngRoute"]);
        app.filter('split', function() {
            return function(input, splitChar, splitIndex) {
                // do some bounds checking here to ensure it has that index
                return input.split(splitChar)[splitIndex];
            }
        });

        app.filter('changeHyphen', function () {
            return function (input) {
                return input.replace(/-/g, ' ');
            };
        });

    
        app.controller('ScientLabCtrl', function($scope, $rootScope, $http, $location) {
            $scope.tronixFileNames = [];
            $scope.mechFileNames = [];
            $scope.adminProjects =  [];
            $scope.galleryFileNames = [];
            $scope.choice = { year: 'all' };
            var date=new Date();
            var today = date.getFullYear()+'-'+(date.getMonth()+1)+'-'+date.getDate();
            $scope.today =today;
            $scope.time = date.getHours()+':'+date.getMinutes();
            var time = date.getHours()+':'+date.getMinutes();
            var endDate,endTime;
              $scope.empty=1;

            $scope.viewLoaded = function () {
                $('.carousel').carousel({
                    interval: 4000 //changes the speed
                });

            $scope.filter_Cards = function(filter_Obj){
              if($scope.choice.year == 'all')
                return true; 
              else if( new Date(filter_Obj.year).getFullYear() == $scope.choice.year)
                    return true;
              else
                    return false;
                }
                
                $("#aboutUsLink").on('click', function(event) {
                    // Make sure this.hash has a value before overriding default behavior
                    $('.down-arrow').css('display', 'none');
                    if (this.hash !== "") {
                      // Prevent default anchor click behavior
                      event.preventDefault();

                      // Store hash
                      var hash = this.hash;

                      // Using jQuery's animate() method to add smooth page scroll
                      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                      $('html, body').animate({
                        scrollTop: $(hash).offset().top
                      }, 1500, function(){
                   
                        // Add hash (#) to URL when done scrolling (default click behavior)
                        window.location.hash = hash;
                      });

                    } // End if

                }); 
                var offsetHeight = $(window).height()/2;
                var body = document.body;
                var $w = $(window).scroll(function(){
                    if ( $w.scrollTop() > 0 ) {
                        $('.down-arrow').css('display', 'none');
                    } else {
                        $('.down-arrow').css('display', 'block');
                    }
                }); 

                if(window.location.href.indexOf("about") > -1) {
                    $('.down-arrow').css('display', 'none');
                }
                
            };
            
            
            $scope.fetchResourcesEvents = function() {
                $http({
                    method : "GET",
                    url : "/electronics/images"
                }).then(function mySuccess(response) {

                    $scope.tronixFileNames = response.data["filenames"];
                }, function myError(response) {

                    console.log(response.status);
                });

                $http({
                    method : "GET",
                    url : "/mechanical/images"
                }).then(function mySuccess(response) {

                    $scope.mechFileNames = response.data["filenames"];
                    
                }, function myError(response) {
                    
                });
                
                $http({
                    method : "GET",
                    url : "/projects-images"
                }).then(function mySuccess(response) {

                    let proj_Dates = [], proj_Year = []; 
                    
                    for ( const j of response.data['projects']){
                        proj_Dates.push(new Date(j.year).getFullYear());       
                    }
                   
                    for (const k of proj_Dates){
                        if(proj_Year.indexOf(k) == -1)
                            proj_Year.push(k);
                    }

                    proj_Year.sort(function(a, b){
                        return b-a;
                    })

                    $scope.years = proj_Year;
                    $scope.adminProjectNames = response.data["projects"];

                }, function myError (response) {
                });

                $http({
                    method: "GET",
                    url : "/gallery-images"
                }).then(function mySuccess(response) {
                    $scope.galleryFileNames = response.data["filenames"];
                }, function myError(response) {
                });
                $http({
                    method: "GET",
                    url : "/annual_reports"
                }).then(function mySuccess(response) {
                    $scope.annualReportFileNames = response.data["filenames"];
                }, function myError(response) {
                });
                $http({
                    method : "GET",
                    url : "/events"
                }).then(function mySuccess(response){
                  
                    for (var i =0; i < response.data["events"].length; i++) {
                        var x=response.data["events"][i];
                        if(x.startDate <= today && (x.endDate > today || (x.endDate == today && x.endTime >= time))){
                            $scope.empty=0;
                            console.log("present!");
                            break;
                        }
                       
                    }
                   
                    $scope.ongoingEvents = response.data["events"];
                    
                },function myError(response){

                });

                 $http({
                    method : "GET",
                    url : "/announcements"
                }).then(function mySuccess(response){
                    if(response.data["announcements"].length > 0)
                        $scope.empty=0;
                    $scope.announcements=response.data["announcements"];
                },function myError(response){

                });
      
            }; 
            $scope.getClass = function (path) {
                return ($location.path().substr(0, path.length) === path) ? 'active' : '';
            }
        });

        app.config(function ($routeProvider,$locationProvider) {
            // $locationProvider.hashPrefix('');
            $routeProvider
            .when("/home", {
                templateUrl : "home.html"
            })
            .when("/Register", {
               templateUrl : "register.html"
            })
            .when("/Tools", {
                templateUrl : "tools.html"
                // templateUrl : "tools.html",
            })
            .when("/Gallery", {
                templateUrl : "gallery.html"
            })
            .when("/Facilities", {
                templateUrl : "facilities.html"
            })
            .when("/Projects", {
                templateUrl : "projects.html"
            })
            .when("/ProjectIdeas", {
                templateUrl : "project_ideas.html"
            })
            .when("/FAQ", {
                templateUrl : "faq.html"
            })
            .when("/Contacts", {
                templateUrl : "contacts.html"
            })
            .when("/Donations", {
                templateUrl : "donations.html"
            })
            .when("/AnnualReports", {
                templateUrl : "annual_reports.html"
            })
            .when("/Testimonials", {
                templateUrl: "testimonials.html"
            })
            .otherwise({
                redirectTo: '/home'
            });
        });

    </script>
    
    <!-- /.container -->

    <!-- jQuery -->
    
    <script>
        $(document).ready(function(){

          $('[data-toggle="tooltip"]').tooltip();
            // Add smooth scrolling to all links
          $("#aboutUsLink").on('click', function(event) {
            // Make sure this.hash has a value before overriding default behavior
            if (this.hash !== "") {
              // Prevent default anchor click behavior
              event.preventDefault();

              // Store hash
              var hash = this.hash;

              // Using jQuery's animate() method to add smooth page scroll
              // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
              $('html, body').animate({
                scrollTop: $(hash).offset().top
              }, 1500, function(){
           
                // Add hash (#) to URL when done scrolling (default click behavior)
                window.location.hash = hash;
              });
            } // End if
          });
        });
        $(document).on('click','.navbar-collapse.in',function(e) {
            if( $(e.target).is('a') ) {
                $(this).collapse('hide');
            }
        });
    </script>
    
    
    <!-- <script>
        document.onreadystatechange = function () {
        var state = document.readyState
            if (state == 'interactive') {
               // document.getElementById('page-contents').style.visibility="hidden";
            } else if (state == 'complete') {
                setTimeout(function(){
                document.getElementById('interactive');
                document.getElementById('loader').style.visibility="hidden";
                document.getElementById('page-contents').style.visibility="visible";
            },1000);
          }
        }
    </script> -->    

    <!-- <script type="text/javascript">
        // Function to render the images in tools sections. This could get a little ugly.
        var dataTargetId = 13; 
        function RenderToolsImages(tool_id, data){
            var code = '';
           $.map(data["file_names"],function(file_name, index){
            var id = "#"+(dataTargetId+1); 
            var html = '\
                <div class="col-md-4 col-sm-6 co-xs-12 gal-item">\
                <div class="box">\
                  <a data-toggle="modal" data-target="'+id+'">\
                    <img src="images/tools/'+tool_id+'/'+file_name+'">\
                  </a>\
                  <div class="modal fade" id="'+(dataTargetId+1)+'" tabindex="-1" role="dialog">\
                    <div class="modal-dialog" role="document">\
                      <div class="modal-content">\
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\
                        <div class="modal-body">\
                          <img src="images/tools/'+tool_id+'/'+file_name+'">\
                        </div>\
                          <div class="col-md-12 description">\
                            <h4>'+file_name+'</h4>\
                          </div>\
                      </div>\
                    </div>\
                  </div>\
                </div>\
              </div>';
              console.log(html);
              code =  code +'<br/>'+html;            
            $($("#"+tool_id).children()).append(html);
            dataTargetId++;
           });
        }
        
        function FetchImages(){
            var toolType = ["mechanical"];
            $.map(toolType,function(val, i){
                $.ajax({
                url: "/"+val+"/images",
                type: "GET",
                success: function(data){RenderToolsImages(val,data);},
                error: function(err){console.log(err);}
               });                
            });
        }
        $(document).ready(function(){
            FetchImages();
            $("#resources-tab").click(function(){FetchImages();});
        });

    </script> -->
</body>

</html>
